# C3_W1_Lab_1_Monty_Hall
### 몬티홀 문제
- 3개의 문 뒤에 염소 둘과 경품 하나가 있다.
- 내가 문을 하나 고르면, 진행자가 염소가 있는 문을 하나 연다.
- 이제 2개의 문만 닫혀있는 상태에서 진행자가 나에게 문을 바꿀 기회를 준다.
- 문을 바꾸는게 유리할까?

정답은 문을 바꾸는게 유리하다.
- 시뮬레이션을 돌려보면 문을 바꿨을 때 67%, 안 바꿨을 때 33% 확률로 이긴다.
- 왜 그럴까?

### 문제에 대한 분석
- 세 개의 문 뒤에 각각 경품이 있을 확률을 $P(E_1)$, $P(E_2)$, $P(E_3)$이라고 하자.
- 세 개의 문 중에서 하나의 문 뒤에만 경품이 있으므로, 세 개의 사건들($E_1, E_2, E_3$)은 상호배타적(mutually exclusive)이다. (교집합이 없다. 교집합이 있다면 두 개 이상의 문 뒤에 경품이 있다는 뜻이다.)
	- 따라서 $P(E_i \cap E_j)=0 \ \ \text{for} \ \ i \neq j$
	- 동시에 $P(E_1 \cup E_2 \cup E_3)=1$
- 내가 첫번째 문($E_1$)을 하나 골랐다고 하자.
$$\huge \begin{align}
P(E_1)&=\frac{1}{3}\\
P(E^c_1)&=P(E_2\cup E_3)=1-\frac{1}{3}=\frac{2}{3}
\end{align}$$
- 이제 게임의 법칙에 따라 몬티홀은 두번째($E_2$) 혹은 세번째($E_3$) 문 중에서 염소가 있는 문을 열어준다.
	- 예를 들어 세번째 문을 열었다고 해보자.
$$\huge \begin{align}
&&P(E_3)&=0\\
\\
&&P(E_2\cup E_3)&=\frac{2}{3}\\
&&&=P(E_2)+P(E_3)-P(E_2\cap E_3) \ \small{\leftarrow P(E_2\cap E_3)=0 \ \text{and}\ P(E_3)=0}\\
&&&=P(E_2)\\
\\
&&\therefore P(E_2)&=P(\text{win}|\text{switch})=\frac{2}{3} 
\end{align}$$
### 문제의 일반화: n개의 문, k마리의 염소, 한 개의 경품
- $n$개의 문 중에서 내가 문 하나를 고르면 몬티홀은 염소가 있는 문만 연다.
- 따라서 n개의 문 중에서 내가 고른 문과 몬티홀이 고른 문을 제외하고 염소의 마릿수 $k$는 $n-2$ 이하이다.
- 내가 1번 문을 골랐을 경우, 몬티홀은 $2, \dots, n-1$번 문 중에서 하나를 연다.
- 1번 문 뒤에 경품이 있을 확률은 $P(E_1)$
$$\huge
\begin{align}
&&P(E_1)&=\frac{1}{n}\\
\\
&&P(E^c_1)&=1-P(E_1)\\
&&&=1-\frac{1}{n}=\frac{n-1}{n}\\
\\
&&E^c_1&=E_2 \cup E_3 \cup \dots \cup E_n\\
&&&=\bigcup_{i=2}^{n}E_i\\
\\
&&P(\bigcup_{i=2}^{n}E_i)&=\frac{n-1}{n}

\end{align}
$$
- 내가 '문을 바꿨더니 경품을 탈 확률'은 '지금 선택한 문 밖에 경품이 있을 확률 $P(E^c_1$)'과 '내가 정확하게 $n-k-1$개의 문 중에서 경품이 있는 문을 골랐을 확률 $\frac{1}{n-k-1}$'의 곱이다.
$$\huge
\begin{align}
&&P(\text{win}|\text{switch})&=\frac{n-1}{n} \cdot \frac{1}{n-k-1}\\
&&&=\frac{1}{n}\cdot\frac{n-1}{n-k-1} & \ \ge \frac{1}{n}&=P(E_1)\\
&&&&&=P(\text{win}|\text{not switch})
\end{align}$$